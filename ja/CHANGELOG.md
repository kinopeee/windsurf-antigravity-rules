# CHANGELOG

🇯🇵 日本語版

[🌏 トップページに戻る](../README.md) | [🇬🇧 English](../en/CHANGELOG.md)

このファイルでは、Windsurf / Antigravity Rules v5 プロジェクトの更新履歴を記録しています。

> **Note**: このリポジトリは [cursorrules](https://github.com/kinopeee/cursorrules) を Windsurf および Antigravity 用に移植したものです。

## バージョン4.4 (2025-12-02)

### 主な変更点

#### 1. Windsurf / Antigravity 対応

- [cursorrules](https://github.com/kinopeee/cursorrules) から Windsurf / Antigravity 用に移植
- Windsurf 用ルール（`.windsurf/rules/`）とワークフロー（`.windsurf/workflows/`）を追加
- Antigravity 用ルール（`.agent/rules/`）とワークフロー（`.agent/workflows/`）を追加
- Antigravity 固有の `planning-mode-guard.md` ルールを追加

#### 2. ドキュメントの汎用化

- Cursor 固有のパス（`.cursor/rules/*.mdc`）を Windsurf / Antigravity 用に更新
- ファイル拡張子を `.mdc` から `.md` に変更
- `alwaysApply: true` を `trigger: always_on` に変更
- Cursor 固有のツール名（`read_file`、`apply_patch`、`run_terminal_cmd`）を汎用的な表現に変更

#### 3. README の更新

- ルート README を Windsurf / Antigravity 用に全面改訂
- 関連リポジトリ（cursorrules）へのリンクを追加
- Quick Start セクションを Windsurf / Antigravity 別に分離

## バージョン4.3 (2025-11-29)

### 主な変更点

#### 1. 多言語対応のディレクトリ構造への再編成

- 言語別ディレクトリ（`ja/` と `en/`）への再編成
- ドキュメント参照パスを言語別プレフィックスに統一
- 多言語対応の保守性と明確性を向上

#### 2. 外部コンテキストインジェクション防御機能の追加

- 新規ルールファイル `prompt-injection-guard.mdc` を追加
- コンテキストベース検出と判定基準を追加
- 外部ファイル参照時の実行指示に対する防御を提供
- 運用ガイドドキュメント（`doc/prompt-injection-guard.md`）を追加

#### 3. README の刷新

- 多言語対応のデザインに刷新
- Quick Start セクションを追加し、導入を簡易化
- ファイル一覧セクションを簡略化して可読性を向上

#### 4. Opus 4.5 の表記追加

- GPT-5.1 と並んで Anthropic の Opus 4.5 モデルへの参照を追加

## バージョン4.2 (2025-11-17)

### 主な変更点

#### 1. コミット・プッシュ・PR ルールとカスタムコマンドの追加

- コミットメッセージ、プッシュ、PR 作成の運用ルールを追加
- コミット/プッシュ/PR フローを簡略化するカスタムコマンドを追加

#### 2. ルールとカスタムコマンドの分離およびドキュメント追加

- ルール定義とカスタムコマンド定義を分離し、それぞれを整理
- ルールとカスタムコマンドのベストプラクティスを説明するドキュメント（doc/rules-and-workflows.md）を追加

## バージョン4.1 (2025-11-15)

### 主な変更点

#### 1. テスト戦略ルールの追加

- テスト戦略ルール（test-strategy.mdc/en.mdc）を新規追加
- テスト観点表の必須化（等価分割・境界値分析）
- Given/When/Then コメント形式の標準化
- 例外・エラーメッセージ・エラーコードの明確な検証要件
- 実行コマンドとカバレッジ報告の明示
- モック利用と運用上の注意を英日で追加

#### 2. v5 コーディング支援ルールの大幅リファクタリング

- 冗長な説明を削減し、簡潔性を向上（509行削減、425行追加）
- タスク分類（🟢軽量/🟡標準/🔴重要）と推論深度の明確化
- ツール利用ポリシー（read_file/apply_patch/grep/並列実行等）の整理
- 標準フロー（軽量/標準/重要タスク）と出力スタイルの再編
- エラー・型・セキュリティ方針をコーディング中心に統一

#### 3. モデル中立的な表現への統一

- 特定モデル名（GPT-5.1）への参照を削除
- 汎用的なAIアシスタント向けルールとして、適応的推論の表現に統一
- 将来的なメンテナンス性と汎用性を向上

#### 4. 特定ツール参照の削除

- Terraform/Pulumi/Snyk/AWS MCP系ツールの説明を削除
- 汎用性を考慮して特定ツールへの言及を排除
- 静的解析ツールセクションに統一

#### 5. ドキュメント更新

- README（英語・日本語）にテスト戦略ルールへの参照を追加
- 言語別ルールファイルの保存手順とテストポリシー適用を明記

## バージョン4 (2025-11-15)

### 主な変更点

#### 1. GPT-5.1 最適化

- GPT-5.1 の推論精度を活かすプロンプトレイヤーを導入
- 指示の優先度解釈を見直し、矛盾の早期検出を強化
- モデル固有の制約を考慮したスロットル制御で応答安定性を向上

## バージョン3 (2025-08-30)

### 主な変更点

#### 1. 適応的プロセス選択の導入

- タスクを軽量・標準・重要の3段階に分類
- 各段階に応じた実行プロセスの最適化
- 軽量タスクでは簡略プロセス、重要タスクでは段階的実行を採用

#### 2. 並列実行の最適化

- 独立タスクの並列実行ガイドラインを導入
- 依存関係に基づく実行順序の最適化
- 処理速度の向上を実現

#### 3. エラー処理の段階化

- 警告・エラー・致命的・セキュリティの4段階分類
- 各段階に応じた自動対応策の実装
- エラー処理の無限ループ防止

#### 4. 進捗管理の改善

- 標準・重要タスク向けのチェックリスト形式の実行計画
- 長時間実行タスク向けの視覚的な進捗表示（✅⏳⬜）
- 軽量タスクでは1〜2文の結果報告に集約し、固定間隔の進捗報告を廃止

#### 5. 品質管理の強化

- 段階的検証プロセスの導入
- Linterエラー対応の改善
- 型安全性の強化

#### 6. GPT-5 最適化

- GPT-5 の能力を最大限に引き出すためのプロンプト設計
- より多くの指示を矛盾なく遂行可能
- カスタムインストラクションに対する追従性の向上

#### 7. ドキュメント構成の簡素化

- 技術スタックの詳細記載例を削除
- ディレクトリ構成の記載例を削除
- 更新履歴に特化した内容に整理

#### 8. スラッシュコマンド規約の追加

- `/` で始まる入力をスラッシュコマンドとして扱うルールを明文化
- AI アシスタントがコマンドファイルを修正・生成しないことを明示
- 明示的に指定された引数のみを渡し、それ以外はコマンド側の既定値に委ねる運用を定義

## バージョン2 (2025-03-01)

### 主な変更点

#### 1. Claude 3.7 Sonnet の制御強化

- Claude 3.7 Sonnet が明示的に指示されていない操作を行わないように制御
- 明示的な指示に従うアクションのみを実行するよう最適化

#### 2. ファイル操作の効率化

- ファイル読み書き操作の不要な分割を削減
- 単一操作でより大きなコンテキストを理解する能力を向上

#### 3. Claude 3.7 Sonnet 最適化

- Claude 3.7 Sonnet の能力を活かす指示形式に調整
- 対話と処理の効率を向上

### 詳細な変更

- ファイル読み取りを改善し、より大きなセクションを一度に処理
- 不要なツール呼び出しのチェーンを削減し、より効率的な処理フローを実現
- Claude 3.7 Sonnet の理解力と推論能力を最大化する指示形式に最適化
- 明示的な指示なしに追加処理を行わないよう制御を強化

## バージョン1 (初期リリース)

- Windsurf 用カスタムインストラクション（`.windsurfrules`）の初期バージョン
- [cursorrules](https://github.com/kinopeee/cursorrules) を Windsurf Cascade 用に最適化して移植
- 基本的な技術スタック、API バージョン管理、プロジェクト構成の記述を含む
- v1（簡易版）と v5（カスタマイズ版）の2つの構成タイプを提供